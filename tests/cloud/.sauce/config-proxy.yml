apiVersion: v1alpha
rootDir: ./
kind: testcafe
sauce:
  region: us-west-1
  concurrency: 1
  metadata:
    tags:
      - e2e
      - release team
      - other tag
    build: Release $CI_COMMIT_SHORT_SHA

testcafe:
  version: 3.7.2

suites:
  - name: "Proxy - macOS13"
    platformName: "macOS 13"
    browserName: "chrome"
    timeout: 2m
    src:
      - "tests/sc/*.test.js"
    speed: 1
    browserArgs: ["--disable-safe-browsing", "--disable-web-security", "--disable-notifications", "--deny-permission-prompts", "--disable-features=LocalNetworkAccessChecks"]
    
  - name: "Proxy - Win11"
    platformName: "Windows 11"
    browserName: "chrome"
    timeout: 2m
    src:
      - "tests/sc/*.test.js"
    speed: 1
    browserArgs: ["--disable-safe-browsing", "--disable-web-security", "--disable-notifications", "--deny-permission-prompts", "--disable-features=LocalNetworkAccessChecks"]
